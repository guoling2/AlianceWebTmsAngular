<div class="matfullheight">
<mat-dialog-content class="mat-typography">
  <div *ngIf="ErrorMsg">{{ErrorMsg}}</div>

  <form [formGroup]="acceptforms"  id="formId">
    <div class="fromcontent">
      接单网点:
      <ejs-dropdownlist
        id='games' #sample
        placeholder='请选择接单网点' [dataSource]='logistticstores'
        [popupHeight]='100'
        [fields]='logisticstorefiled' formControlName="acceptlogisticstore" ></ejs-dropdownlist>

      <div *ngIf="acceprlogisticstorecheck.invalid && (acceprlogisticstorecheck.dirty || acceprlogisticstorecheck.touched)"
           class="alert alert-danger">

        <div *ngIf="acceprlogisticstorecheck.errors.required">
          <b style="color:#e21641;font-weight:100">请选择接单网点</b>
        </div>

      </div>
    </div>

    <div class="fromcontent">指派末端网点(不需要指派本货站的订单)
      <ejs-dropdownlist
        #sample2
        placeholder='请选择配送网点' [dataSource]='logistticstoresquery'
        [popupHeight]='100'
        [fields]='logisticstorefiled' formControlName="sendlogisticstore"  [showClearButton]="true"></ejs-dropdownlist></div>
    <div hidden="hidden">是否自提 <ejs-switch  #orderselfswitch  [checked]="isorderself"></ejs-switch></div>
    <div>是否已提货 <ejs-switch #hasorderswitch  [checked]="isalreadyhasitem"></ejs-switch></div>
    <!--<div *ngIf="datasource.NeedSend">
      接单司机:
      <ejs-dropdownlist id='dropdownlist-template'
                        [dataSource]='driversource'
                        [fields]='driverfields'
                        [popupHeight]='100'
                        placeholder='请选择接单司机'
                        [itemTemplate]='itemTemplate'>
        <ng-template #itemTemplate="" let-data="">
          &lt;!&ndash;set the value to itemTemplate property&ndash;&gt;
          <span><span class='name'> {{data.RealName}}</span><span class ='city'>{{data.Tel}}</span></span>
        </ng-template>
      </ejs-dropdownlist>
    </div>-->

  </form>
  <div class="gridcontent">
    <h2>接单明细：</h2>
    <table mat-table  class="mat-elevation-z8" [dataSource]="loadsource">

      <!--- Note that these columns can be defined in any shipment.
            The actual rendered columns are set as a property on the row definition" -->

      <!-- Position Column -->
      <ng-container matColumnDef="DestCityName">
        <th mat-header-cell *matHeaderCellDef> 到货城市 </th>
        <td mat-cell *matCellDef="let element"> {{element.DestCityName}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="TotalCount">
        <th mat-header-cell *matHeaderCellDef> 总件数 </th>
        <td mat-cell *matCellDef="let element"> {{element.TotalCount}} </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="TotalWeight">
        <th mat-header-cell *matHeaderCellDef> 总重量 </th>
        <td mat-cell *matCellDef="let element"> {{element.TotalWeight}} </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="TotalVol">
        <th mat-header-cell *matHeaderCellDef> 总体积 </th>
        <td mat-cell *matCellDef="let element"> {{element.TotalVol}} </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="TotalOrderCount">
        <th mat-header-cell *matHeaderCellDef> 总单数 </th>
        <td mat-cell *matCellDef="let element"> {{element.TotalOrderCount}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>
  </div>



</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close color="cancel">取消</button>
  <button mat-button mat-raised-button color="green"  (click)="SaveData($event)" >确认接单</button>
</mat-dialog-actions>
</div>















